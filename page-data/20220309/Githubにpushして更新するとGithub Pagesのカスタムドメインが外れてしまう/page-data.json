{
    "componentChunkName": "component---src-templates-blog-post-js",
    "path": "/20220309/Githubにpushして更新するとGithub Pagesのカスタムドメインが外れてしまう",
    "result": {"data":{"site":{"siteMetadata":{"title":"hi1t0","siteUrl":"https://hi1t0.com"}},"markdownRemark":{"id":"c3589865-56f9-5d24-8f12-5665350f4673","fields":{"slug":"/20220309/"},"excerpt":"でページを更新すると Github Pages の Custom domain の欄が空白になってしまう  調べた結果、 カスタムドメインを入力して Save を押すと CNAME というファイルが Github Pages…","html":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ git push origin main</code></pre></div>\n<p>でページを更新すると Github Pages の Custom domain の欄が空白になってしまう</p>\n<div style=\"width: 100%; margin-left: auto; margin-right: auto\">\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a6f3b98ac3d6a38ed4c5a9230a372d0b/e8950/1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 39.87341772151899%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAABWUlEQVQoz42S224bMQxE9/9/LUDahwBN0wenTuw03osulLSry+oUkhMXBfpQAgONKGIwJDWEdcV5T631hhZKac7nN15fT2zrxv/G4HzA+3AT+jzdVphcRllBW4PzDhGLONvv1gnamM6N2M6tCIOxltPpzDTNpJSoVNjhvSi+yg++zN+4Hx+4X564UwfulgMP7sBTfOZxO3R83/7woblblO7qpexXhxXMZnkPI0vSTFExRcOUhDEalmxR5YqlCGoXzC7oXRisFaZ5ppTyV8tthr/eLqjFYLRFK8M8zlhtsUbw4gluRUIl548BVhhEhMs4km/Za2wxMs6KyzTT5mzEMS2KmDNrjP9YR+0YjqcLzz+PWOtIuRBjouw7WmuOLy/dffsJ3ntCCDjXliOIuM5b3ocVEwox7wyTsn3L+15JOXfR1n5Dcx1T6mgulRGctnjnyR/vn7Wp1K7xGzyfai/M3pNAAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"test\"\n        title=\"test\"\n        src=\"/static/a6f3b98ac3d6a38ed4c5a9230a372d0b/f058b/1.png\"\n        srcset=\"/static/a6f3b98ac3d6a38ed4c5a9230a372d0b/c26ae/1.png 158w,\n/static/a6f3b98ac3d6a38ed4c5a9230a372d0b/6bdcf/1.png 315w,\n/static/a6f3b98ac3d6a38ed4c5a9230a372d0b/f058b/1.png 630w,\n/static/a6f3b98ac3d6a38ed4c5a9230a372d0b/40601/1.png 945w,\n/static/a6f3b98ac3d6a38ed4c5a9230a372d0b/78612/1.png 1260w,\n/static/a6f3b98ac3d6a38ed4c5a9230a372d0b/e8950/1.png 2000w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n</div>\n<p>調べた結果、</p>\n<p>カスタムドメインを入力して Save を押すと CNAME というファイルが Github Pages に反映されているリポジトリに生成される。これを更新する時に含めなければいけなかった</p>\n<div style=\"width: 100%; margin-left: auto; margin-right: auto\">\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/31629cbcb3c2db925996b5a0b93a2dd5/891d5/2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 5.063291139240507%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAPklEQVQI11XJMRKAIAxFQe9/VSFxBARm8vNsbCy22mOMh7NUzJzMJEJIydob84tSjTkX+i70J4m7dao5rQ9eTU9N4/bq8g0AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"test\"\n        title=\"test\"\n        src=\"/static/31629cbcb3c2db925996b5a0b93a2dd5/f058b/2.png\"\n        srcset=\"/static/31629cbcb3c2db925996b5a0b93a2dd5/c26ae/2.png 158w,\n/static/31629cbcb3c2db925996b5a0b93a2dd5/6bdcf/2.png 315w,\n/static/31629cbcb3c2db925996b5a0b93a2dd5/f058b/2.png 630w,\n/static/31629cbcb3c2db925996b5a0b93a2dd5/40601/2.png 945w,\n/static/31629cbcb3c2db925996b5a0b93a2dd5/78612/2.png 1260w,\n/static/31629cbcb3c2db925996b5a0b93a2dd5/891d5/2.png 1520w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n</div>\n<p>CNAME はカスタムドメイン名だけが書かれたファイル</p>\n<p>なので.github/workflow/gh-pages.yml の中身に１行加える</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ - run: echo hi1t0.com > public/CNAME</code></pre></div>\n<div style=\"width: 100%; margin-left: auto; margin-right: auto\">\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1b2e7dbb7f1597aef7f67fef5f0b1edc/a83dd/3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.9620253164557%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAACDElEQVQoz22Sa2vbQBBF9f9/VqFQkpY0Thy/ZCWyHqvVc9+ynZZTtEkNhX4YZlmYw9x7J0lfCx5WL2y3B142e/b7jP3hFWsdLihGrTiLgmGQCC2xwWKCZfIK5XXsOhhGNzF5TbLdl/y4e+Lb/Yqfjzs2u5z1JsM5hw+ayRqckgzNibYt6e2ItF2EutlhZxf7Al3+kqwWfN08kR/3NE2LEII0zbDW4oPBGYs1E9L1cWgB+LPn/Xrl/fp+q1+fPcmqmu/pgfJUUNWCum5Ij2846/CzxWuDHzoa00aJyxbL4OVy+W8lpShYp480QjIMA0J8AG0EaozSOCmoXcfoFf4cPoDXD8D1ev2nkl5WVNkDu/2RLMsoipJj9glcQjGauXjjWhY4WaPainPb8D6puO3oJ3o30to+ept0QpBvnlhvdpzy002y1gbnNUprwtBipEAqST3V9Lpj0H1MNswBv1Tw8Z20UpK/vbLb7SnLiqaRN6D1BjMp/NDTmI7JTVjv0N4g9URvDJf5TAiBOcyxJ23VsLt7YLVeR7kLNM3ecM5HD/XioajYDDnHqb5JK1RFbRrCZY5+3jyscsn9l2c22xeen9fk+Yljln+ejWKcFK6pmPqObugY3EjvBmrdUCoR4UtQCyymLCtBunpmd0jjhn9T9n7xxKCd5dI3/K4qLuNAZZoIdbOPd6mCYT7PN+AfUQg8IS8Pvb8AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"test\"\n        title=\"test\"\n        src=\"/static/1b2e7dbb7f1597aef7f67fef5f0b1edc/f058b/3.png\"\n        srcset=\"/static/1b2e7dbb7f1597aef7f67fef5f0b1edc/c26ae/3.png 158w,\n/static/1b2e7dbb7f1597aef7f67fef5f0b1edc/6bdcf/3.png 315w,\n/static/1b2e7dbb7f1597aef7f67fef5f0b1edc/f058b/3.png 630w,\n/static/1b2e7dbb7f1597aef7f67fef5f0b1edc/40601/3.png 945w,\n/static/1b2e7dbb7f1597aef7f67fef5f0b1edc/78612/3.png 1260w,\n/static/1b2e7dbb7f1597aef7f67fef5f0b1edc/a83dd/3.png 1482w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n</div>\n<p>これで git push した時に public フォルダに CNAME ファイルが含まれるようになる</p>\n<p>参考：<a href=\"https://jj-blues.com/cms/wantto-outputtofile/\">ファイルへ出力する</a></p>","frontmatter":{"title":"Githubにpushして更新するとGithub Pagesのカスタムドメインが外れてしまう","date":"March 09, 2022","description":"gatsby-starter-blogをカスタムする。今回はGithub Pagesで更新するときに必要な設定","tags":["Github Pages","tips"],"hero":{"id":"9597bf28-8eb7-5bca-9a09-f1eb5de87013","childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/static/a6f3b98ac3d6a38ed4c5a9230a372d0b/6650b/1.png","srcSet":"/static/a6f3b98ac3d6a38ed4c5a9230a372d0b/e5d44/1.png 500w,\n/static/a6f3b98ac3d6a38ed4c5a9230a372d0b/ac5bf/1.png 1000w,\n/static/a6f3b98ac3d6a38ed4c5a9230a372d0b/6650b/1.png 2000w","sizes":"(min-width: 2000px) 2000px, 100vw"},"sources":[{"srcSet":"/static/a6f3b98ac3d6a38ed4c5a9230a372d0b/921bf/1.webp 500w,\n/static/a6f3b98ac3d6a38ed4c5a9230a372d0b/b7ef5/1.webp 1000w,\n/static/a6f3b98ac3d6a38ed4c5a9230a372d0b/c9c6a/1.webp 2000w","type":"image/webp","sizes":"(min-width: 2000px) 2000px, 100vw"}]},"width":2000,"height":1333}}}},"tableOfContents":""},"previous":{"fields":{"slug":"/20220308/"},"frontmatter":{"title":"Gatsbyjsのプロジェクトでサイトマップ出力"}},"next":{"fields":{"slug":"/20220310/"},"frontmatter":{"title":"pagination to gatsbyjs"}}},"pageContext":{"id":"c3589865-56f9-5d24-8f12-5665350f4673","previousPostId":"4695f937-35b6-5b5a-be19-5b92eff66c85","nextPostId":"d39fe290-2748-5b0f-9b3f-dd5fec406258"}},
    "staticQueryHashes": ["1790439409","3257411868"]}