{
    "componentChunkName": "component---src-templates-blog-post-js",
    "path": "/20220310/pagination to gatsbyjs",
    "result": {"data":{"site":{"siteMetadata":{"title":"hi1t0","siteUrl":"https://hi1t0.com"}},"markdownRemark":{"id":"d39fe290-2748-5b0f-9b3f-dd5fec406258","fields":{"slug":"/20220310/"},"excerpt":"gatsby-starter-blog を使用しています でプラグインを追加 gatsby-node.js を編集 index.js を templates フォルダへ移動する  src/templates/index.js を編集 component フォルダに pagination.js を追加\nMaterial…","html":"<p>gatsby-starter-blog を使用しています</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">$ yarn add gatsby<span class=\"token operator\">-</span>awesome<span class=\"token operator\">-</span>pagination</code></pre></div>\n<p>でプラグインを追加</p>\n<p>gatsby-node.js を編集</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> path <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">path</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> createFilePath <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-source-filesystem</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> paginate <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-awesome-pagination</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n\nexports<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">createPages</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> graphql<span class=\"token punctuation\">,</span> actions<span class=\"token punctuation\">,</span> reporter <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> createPage <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> actions\n\n  <span class=\"token comment\">// Define a template for blog post</span>\n  <span class=\"token keyword\">const</span> blogPost <span class=\"token operator\">=</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">./src/templates/blog-post.js</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">const</span> blogIndex <span class=\"token operator\">=</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">./src/templates/index.js</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token comment\">// Get all markdown blog posts sorted by date</span>\n  <span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">graphql</span><span class=\"token punctuation\">(</span>\n    <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n      {\n        allMarkdownRemark(\n          sort: { fields: [frontmatter___date], order: ASC }\n          limit: 1000\n        ) {\n          nodes {\n            id\n            fields {\n              slug\n            }\n          }\n        }\n      }\n    </span><span class=\"token template-punctuation string\">`</span></span>\n  <span class=\"token punctuation\">)</span>\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">.</span>errors<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    reporter<span class=\"token punctuation\">.</span><span class=\"token function\">panicOnBuild</span><span class=\"token punctuation\">(</span>\n      <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">There was an error loading your blog posts</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n      result<span class=\"token punctuation\">.</span>errors\n    <span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">const</span> posts <span class=\"token operator\">=</span> result<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>allMarkdownRemark<span class=\"token punctuation\">.</span>nodes\n\n  <span class=\"token comment\">// Create blog posts pages</span>\n  <span class=\"token comment\">// But only if there's at least one markdown file found at \"content/blog\" (defined in gatsby-config.js)</span>\n  <span class=\"token comment\">// `context` is available in the template as a prop and as a variable in GraphQL</span>\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>posts<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    posts<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">post<span class=\"token punctuation\">,</span> index</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">const</span> previousPostId <span class=\"token operator\">=</span> index <span class=\"token operator\">===</span> <span class=\"token number\">0</span> <span class=\"token operator\">?</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">:</span> posts<span class=\"token punctuation\">[</span>index <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>id\n      <span class=\"token keyword\">const</span> nextPostId <span class=\"token operator\">=</span> index <span class=\"token operator\">===</span> posts<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span> <span class=\"token operator\">?</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">:</span> posts<span class=\"token punctuation\">[</span>index <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>id\n\n      <span class=\"token function\">createPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">path</span><span class=\"token operator\">:</span> post<span class=\"token punctuation\">.</span>fields<span class=\"token punctuation\">.</span>slug<span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">component</span><span class=\"token operator\">:</span> blogPost<span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">context</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> post<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span>\n          previousPostId<span class=\"token punctuation\">,</span>\n          nextPostId<span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\">// Create your paginated pages</span>\n    <span class=\"token function\">paginate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      createPage<span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">items</span><span class=\"token operator\">:</span> posts<span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">itemsPerPage</span><span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span>\n      <span class=\"token function-variable function\">pathPrefix</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> pageNumber <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>pageNumber <span class=\"token operator\">===</span> <span class=\"token number\">0</span> <span class=\"token operator\">?</span> <span class=\"token string\">\"/\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"/page\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">component</span><span class=\"token operator\">:</span> blogIndex\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token operator\">...</span></code></pre></div>\n<p>index.js を templates フォルダへ移動する</p>\n<div style=\"width: 80%; margin-left: auto; margin-right: auto\">\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 420px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/0cb7c986b7631094e71ebed58f75ff42/d10fb/1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 83.54430379746836%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAABYlAAAWJQFJUiTwAAACoElEQVQ4y4WUy47jRBiF+93Y8jLsWfAE7GfBpoERM9AIJBCMoDWB7iSd2Lk4dhIn8SV2+VplJ92DEEhIfKgKJXQyjWZxVBf9OnXOf6kLpRqkVAiRkYqc33/4lPu5xXy1ZjqZMh6PWS59E1PX8gh9fgoXB8I8y8mKit9uvmfvx8yWISPbxrZHrNcbdNy7yI6EOkjpC9VS7xverD5gXwzx5gHL5cIQxvH2LZXnOCGU+lK2qDLi7/BD2txmNPFwXZfRaIzvr2jbHU3TPokDz8V/VrRkSVkpvnAf8LOGqiiIt1tSIdhuE5IkJYpiA30+7LV6HXOqUCpju252fHQjmMQSx7axhja92z7TsWP2nc4vdLs9LMum1+sxHFpYQwtnOjMqj4RVVVNWNdFygRIxSRETZjFRHrMWgVm3eYJU6mhRQ+/LuiIts9MqazupyLh+8Rnz8YLv3J/5yrriS/trnt18wuXdc15aV2RlcVKcRrVsRMgkmtGq3allKfWrkr34ibaKqcrG5LVtdgZajXZyiH9cXSXPivJvlXfIMuTP2fs06Ws6vw7odF7T6/UZWha3t136/TuDPC+ebPZHCjWhQtYVbdZFljF5XpGlGSLNyLPCwExUkr6l8n/6cIeqQv5y3qNOXvGtc83ng+dcjb7hlXfNYGPx0D6cEOm8rUTItd89z+HhxQqZT2lkTlykrMSGIA9ZpmuSMj3m8kCq16KqSIrsVKFu7L2SfDx5w+XyD4LFHMsa4zoewzuLQX+AN/PwvLnpQd0Vpz18PinmUjJKGoJCkQtBEEYmZ+v1mjCKCIKAIAjNGL6zKAeFl/N7rlb3RP4C15sznTqGxHU9siw/zvNjy0/+NlphIyU/bnY4omXj+0ymjiHS/6HjOGZ+z7+xc9J/AKKI0h8kkrVBAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"test\"\n        title=\"test\"\n        src=\"/static/0cb7c986b7631094e71ebed58f75ff42/d10fb/1.png\"\n        srcset=\"/static/0cb7c986b7631094e71ebed58f75ff42/c26ae/1.png 158w,\n/static/0cb7c986b7631094e71ebed58f75ff42/6bdcf/1.png 315w,\n/static/0cb7c986b7631094e71ebed58f75ff42/d10fb/1.png 420w\"\n        sizes=\"(max-width: 420px) 100vw, 420px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n</div>\n<p>src/templates/index.js を編集</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Link<span class=\"token punctuation\">,</span> graphql <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"gatsby\"</span>\n\n<span class=\"token keyword\">import</span> Bio <span class=\"token keyword\">from</span> <span class=\"token string\">\"../components/bio\"</span>\n<span class=\"token keyword\">import</span> Layout <span class=\"token keyword\">from</span> <span class=\"token string\">\"../components/layout\"</span>\n<span class=\"token keyword\">import</span> Seo <span class=\"token keyword\">from</span> <span class=\"token string\">\"../components/seo\"</span>\n<span class=\"token keyword\">import</span> Pagination <span class=\"token keyword\">from</span> <span class=\"token string\">\"../components/pagination\"</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">BlogIndex</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> data<span class=\"token punctuation\">,</span> location<span class=\"token punctuation\">,</span> pageContext <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> siteTitle <span class=\"token operator\">=</span> data<span class=\"token punctuation\">.</span>site<span class=\"token punctuation\">.</span>siteMetadata<span class=\"token operator\">?.</span>title <span class=\"token operator\">||</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Title</span><span class=\"token template-punctuation string\">`</span></span>\n  <span class=\"token keyword\">const</span> posts <span class=\"token operator\">=</span> data<span class=\"token punctuation\">.</span>allMarkdownRemark<span class=\"token punctuation\">.</span>nodes\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>posts<span class=\"token punctuation\">.</span>length <span class=\"token operator\">===</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token operator\">&lt;</span>Layout location<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>location<span class=\"token punctuation\">}</span> title<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>siteTitle<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>Seo title<span class=\"token operator\">=</span><span class=\"token string\">\"All posts\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>Bio <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span>\n          No blog posts found<span class=\"token punctuation\">.</span> Add markdown posts to <span class=\"token string\">\"content/blog\"</span> <span class=\"token punctuation\">(</span>or the\n          directory you specified <span class=\"token keyword\">for</span> the <span class=\"token string\">\"gatsby-source-filesystem\"</span> plugin <span class=\"token keyword\">in</span>\n          gatsby<span class=\"token operator\">-</span>config<span class=\"token punctuation\">.</span>js<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Layout<span class=\"token operator\">></span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>Layout location<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>location<span class=\"token punctuation\">}</span> title<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>siteTitle<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>Seo title<span class=\"token operator\">=</span><span class=\"token string\">\"hi1t0Blog\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>Bio <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>ol style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">listStyle</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">none</span><span class=\"token template-punctuation string\">`</span></span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n        <span class=\"token punctuation\">{</span>posts<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">post</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n          <span class=\"token keyword\">const</span> title <span class=\"token operator\">=</span> post<span class=\"token punctuation\">.</span>frontmatter<span class=\"token punctuation\">.</span>title <span class=\"token operator\">||</span> post<span class=\"token punctuation\">.</span>fields<span class=\"token punctuation\">.</span>slug\n\n          <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n            <span class=\"token operator\">&lt;</span>li key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>post<span class=\"token punctuation\">.</span>fields<span class=\"token punctuation\">.</span>slug<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n              <span class=\"token operator\">&lt;</span>article\n                className<span class=\"token operator\">=</span><span class=\"token string\">\"post-list-item\"</span>\n                itemScope\n                itemType<span class=\"token operator\">=</span><span class=\"token string\">\"http://schema.org/Article\"</span>\n              <span class=\"token operator\">></span>\n                <span class=\"token operator\">&lt;</span>header<span class=\"token operator\">></span>\n                  <span class=\"token operator\">&lt;</span>h2<span class=\"token operator\">></span>\n                    <span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>post<span class=\"token punctuation\">.</span>fields<span class=\"token punctuation\">.</span>slug<span class=\"token punctuation\">}</span> itemProp<span class=\"token operator\">=</span><span class=\"token string\">\"url\"</span><span class=\"token operator\">></span>\n                      <span class=\"token operator\">&lt;</span>span itemProp<span class=\"token operator\">=</span><span class=\"token string\">\"headline\"</span><span class=\"token operator\">></span><span class=\"token punctuation\">{</span>title<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>span<span class=\"token operator\">></span>\n                    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n                  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h2<span class=\"token operator\">></span>\n                  <span class=\"token operator\">&lt;</span>small<span class=\"token operator\">></span><span class=\"token punctuation\">{</span>post<span class=\"token punctuation\">.</span>frontmatter<span class=\"token punctuation\">.</span>date<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>small<span class=\"token operator\">></span>\n                <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>header<span class=\"token operator\">></span>\n                <span class=\"token operator\">&lt;</span>section<span class=\"token operator\">></span>\n                  <span class=\"token operator\">&lt;</span>p\n                    dangerouslySetInnerHTML<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>\n                      <span class=\"token literal-property property\">__html</span><span class=\"token operator\">:</span> post<span class=\"token punctuation\">.</span>frontmatter<span class=\"token punctuation\">.</span>description <span class=\"token operator\">||</span> post<span class=\"token punctuation\">.</span>excerpt<span class=\"token punctuation\">,</span>\n                    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n                    itemProp<span class=\"token operator\">=</span><span class=\"token string\">\"description\"</span>\n                  <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n                <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>section<span class=\"token operator\">></span>\n              <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>article<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n          <span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ol<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>footer<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>Pagination pageContext<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>pageContext<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>footer<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Layout<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> BlogIndex\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> pageQuery <span class=\"token operator\">=</span> graphql<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n  query ($skip: Int!, $limit: Int!) {\n    site {\n      siteMetadata {\n        title\n      }\n    }\n    allMarkdownRemark(\n      sort: { fields: [frontmatter___date], order: DESC }\n      skip: $skip\n      limit: $limit\n    ) {\n      nodes {\n        excerpt\n        fields {\n          slug\n        }\n        frontmatter {\n          date(formatString: \"MMMM DD, YYYY\")\n          title\n          description\n        }\n      }\n    }\n  }\n</span><span class=\"token template-punctuation string\">`</span></span></code></pre></div>\n<p>component フォルダに pagination.js を追加\nMaterial-ui を使うためあらかじめパッケージをインストール</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ yarn add gatsby-plugin-material-ui @material-ui/core @material-ui/lab</code></pre></div>\n<p>gatsby-config.js に追加</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">siteMetadata</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">title</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">hi1t0 Blog</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n    <span class=\"token operator\">...</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">plugins</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-plugin-material-ui</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n    <span class=\"token operator\">...</span></code></pre></div>\n<p>src/component/pagination.js</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> navigate <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"gatsby\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> makeStyles <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"@material-ui/core\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> muiLab <span class=\"token keyword\">from</span> <span class=\"token string\">\"@material-ui/lab\"</span>\n\n<span class=\"token keyword\">const</span> useStyles <span class=\"token operator\">=</span> <span class=\"token function\">makeStyles</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">root</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">display</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">flex</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">flexWrap</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">wrap</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">justifyContent</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">center</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">alignItems</span><span class=\"token operator\">:</span> <span class=\"token string\">\"center\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Pagination</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> pageContext <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> classes <span class=\"token operator\">=</span> <span class=\"token function\">useStyles</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> numberOfPages<span class=\"token punctuation\">,</span> humanPageNumber <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> pageContext\n\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">handleChange</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">_event<span class=\"token punctuation\">,</span> value</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    value <span class=\"token operator\">===</span> <span class=\"token number\">1</span> <span class=\"token operator\">?</span> <span class=\"token function\">navigate</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">/</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token function\">navigate</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">/page/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>value<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>classes<span class=\"token punctuation\">.</span>root<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>muiLab<span class=\"token punctuation\">.</span>Pagination\n        variant<span class=\"token operator\">=</span><span class=\"token string\">\"outlined\"</span>\n        defaultPage<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>humanPageNumber<span class=\"token punctuation\">}</span>\n        count<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>numberOfPages<span class=\"token punctuation\">}</span>\n        onChange<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>handleChange<span class=\"token punctuation\">}</span>\n        <span class=\"token comment\">// size=\"small\"</span>\n        color<span class=\"token operator\">=</span><span class=\"token string\">\"primary\"</span>\n        shape<span class=\"token operator\">=</span><span class=\"token string\">\"rounded\"</span>\n      <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Pagination</code></pre></div>\n<p>これで以下のようにページネーションを使うことができる</p>\n<div style=\"width: 100%; margin-left: auto; margin-right: auto\">\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/0b97d3a03f9600516cf9c46f69f00bc0/21482/2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 91.77215189873418%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAABYlAAAWJQFJUiTwAAADAElEQVQ4y4VT2Y4bNxDU/78nf2EESJ6SeBHH8SaRF5t4VytpJY3mHs6luXnNIVXAlmQIcYw8FEg2i8Vms2uWVB2++XGBb39a4M3cwh8bhrfPPn5+8jDfMjzuE/y2DvH9wx4Puxh3zz7er0I8OSlxf10GePvs4W87xXEaMStbju/+3OJ+5WPlZ+j7HjhOhNM04nQdL8C/1qcL12AYBsyUklBdg7YuMfaagkprKKWgtYa8jOYi3fdQyswHWve0VsQRQhJv1rYtPn16wstyib1tw/M8uJ6HIAzBGIPjutjvbVj7PeI4hmVZWCwW2Gw2eN1ssFqtsN3ukKYpOOeYGdW2baClgOQdeiUxaEXZmuyPYw+tBHjXQUoJrRTxBefgvCMRKQTGcTw/ueYSdy8h7l9jfLQS3L9GVPT5NsaDFeNu4ePZzTHfxfi4i+kjHu0UPzw6NH+wErz4Ody0On8KFxJBksOJUqRVh7JTyBtB6KQGKzsUrUTFFbjq0coeneopVnNFnEZoCNWfM+y6Dq7rgEUhkpghTWKUxQFtU6OuKlTFAVVZ0LwoDmBRBMYiFIcceZ4hTRJkaUIlIUHz/ixhyJIYLApoJJELmrpCkWeoihwJi5CyCAkL0TU1tJJUeyUE/fZZUPew0xp+3iIqOnhZAzcz6wZB3sA0/o6VWAUHeFmNdVjAiivYSYW47OCkNbKakxgJtlzi/dLHu4WHD+uQDvyyDOhjPqwjzHcJft8wvFsGtGdif9kpuWYdHLAMDtgnFaQ69/BMCI4yT1EfMgxKULscB4XTqDH1kmKnsSeYlpq0xHHQOE0DOcXEei0xTRenmD7a7iz4foA4SeC6LmzHRRhG2Fl7alrGYjiOA9txsF6/wvN8sDhGEARkBGOIpmnIOTNTTLNhYObmAiEENbG4FNuMxlHX8coxIoZnOsXESdCkST7V5xpcO/4W0zTSk8zeFbfc29js9uDV8LcwGRalyYx/zvhr3C8Ev8RZMDtwNM3Zt7eC/3XmfwSHy5POuL3oa9x/AHpBUrcp9CTJAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"test\"\n        title=\"test\"\n        src=\"/static/0b97d3a03f9600516cf9c46f69f00bc0/f058b/2.png\"\n        srcset=\"/static/0b97d3a03f9600516cf9c46f69f00bc0/c26ae/2.png 158w,\n/static/0b97d3a03f9600516cf9c46f69f00bc0/6bdcf/2.png 315w,\n/static/0b97d3a03f9600516cf9c46f69f00bc0/f058b/2.png 630w,\n/static/0b97d3a03f9600516cf9c46f69f00bc0/40601/2.png 945w,\n/static/0b97d3a03f9600516cf9c46f69f00bc0/78612/2.png 1260w,\n/static/0b97d3a03f9600516cf9c46f69f00bc0/21482/2.png 1350w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n</div>\n<p>参考：<a href=\"https://blog.jack-s.com/gatsby-pagination/\">Gatsby ブログにページネーションを導入する</a></p>","frontmatter":{"title":"pagination to gatsbyjs","date":"March 10, 2022","description":"gatsby-starter-blogのプロジェクトにページネーションをつける","tags":["Gatsby","pagination"],"hero":{"id":"c21ddff2-30c2-527f-bb3c-fa8f85e60598","childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#e8e8e8","images":{"fallback":{"src":"/static/0cb7c986b7631094e71ebed58f75ff42/84aef/1.png","srcSet":"/static/0cb7c986b7631094e71ebed58f75ff42/7dcc5/1.png 105w,\n/static/0cb7c986b7631094e71ebed58f75ff42/f596a/1.png 210w,\n/static/0cb7c986b7631094e71ebed58f75ff42/84aef/1.png 420w","sizes":"(min-width: 420px) 420px, 100vw"},"sources":[{"srcSet":"/static/0cb7c986b7631094e71ebed58f75ff42/b6140/1.webp 105w,\n/static/0cb7c986b7631094e71ebed58f75ff42/29c37/1.webp 210w,\n/static/0cb7c986b7631094e71ebed58f75ff42/f73c0/1.webp 420w","type":"image/webp","sizes":"(min-width: 420px) 420px, 100vw"}]},"width":420,"height":280}}}},"tableOfContents":""},"previous":{"fields":{"slug":"/20220309/"},"frontmatter":{"title":"Githubにpushして更新するとGithub Pagesのカスタムドメインが外れてしまう"}},"next":null},"pageContext":{"id":"d39fe290-2748-5b0f-9b3f-dd5fec406258","previousPostId":"c3589865-56f9-5d24-8f12-5665350f4673","nextPostId":null}},
    "staticQueryHashes": ["1790439409","3257411868"]}